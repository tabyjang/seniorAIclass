# 📋 베네치아 게임 - 현재 작업 진행 상황

> **작성일:** 2026-02-02
> **프로젝트:** 시니어 타자 연습 - 베네치아 게임
> **상태:** 레벨 시스템 구현 중

---

## ✅ 완료된 작업

### 1. 기본 게임 구현 완료
- [x] 게임 화면 구성 (HTML/CSS)
- [x] 단어 생성 및 하강 시스템
- [x] 타자 입력 및 파괴 로직
- [x] 생명/점수 시스템
- [x] 게임오버/재시작 기능
- [x] 한글 입력 문제 해결 (NFC 정규화)

### 2. 설정 패널 추가 완료
- [x] 속도 조절 슬라이더 (0.5~8 px/frame)
- [x] 생명 개수 조절 (1~10개)
- [x] 설정값 실시간 표시

### 3. 프리미엄 디자인 적용 완료
- [x] 다크 테마 + 골드 포인트 색상
- [x] 글래스모피즘 효과
- [x] 네온 글로우 효과
- [x] 텍스트 그라데이션
- [x] 버튼/슬라이더 애니메이션

### 4. 단어 데이터 재구성 완료
- [x] 1글자 단어 50개 (받침 없는 것 + 받침 있는 것)
- [x] 2글자 단어 50개 (사전 기반)
- [x] 3글자 단어 40개 (사전 기반)
- [x] 레벨별 단어 선택 알고리즘 (`getWordForLevel`)

### 5. 문서 업데이트 완료
- [x] PRD 문서 - 새로운 레벨별 단어 출현 비율
- [x] TECH_DESIGN 문서 - 글자수별 단어 데이터 구조

---

## 🚧 진행 중인 작업

### 레벨 시스템 구현 (미완료)

**현재 상태:**
- ✅ 게임 상태 객체에 `level`, `baseSpeed`, `currentSpeedMultiplier` 속성 추가됨
- ⏳ 레벨 계산 함수 (`calculateLevel`) 구현 필요
- ⏳ `spawnWord` 함수에 레벨 기반 단어 선택 적용 필요
- ⏳ 레벨에 따른 속도 점진적 가속 구현 필요
- ⏳ 레벨 변경 시 사용자 알림 (UI) 구현 필요

**구현해야 할 코드:**

```javascript
// 1. 레벨 계산 함수
function calculateLevel(score) {
    if (score < 500) return 1;
    if (score < 1500) return 2;
    return 3;
}

// 2. 속도 계산 (점진적 가속)
function calculateSpeed(level, score) {
    let baseSpeed = gameSettings.wordSpeed;
    let multiplier = 1.0;
    
    if (level === 2) {
        // 500점마다 0.1씩 증가
        multiplier += (score - 500) / 500 * 0.1;
    } else if (level >= 3) {
        // 1000점마다 0.2씩 증가
        multiplier += (score - 1500) / 1000 * 0.2;
    }
    
    return baseSpeed * multiplier;
}

// 3. spawnWord 함수 수정
function spawnWord() {
    // 현재 레벨 계산
    const currentLevel = calculateLevel(gameState.score);
    
    // 레벨 변경 시 알림
    if (currentLevel !== gameState.level) {
        gameState.level = currentLevel;
        showLevelUpNotification(currentLevel);
    }
    
    // 레벨에 따른 단어 선택
    const wordText = getWordForLevel(currentLevel);
    
    // 레벨에 따른 속도 계산
    const speed = calculateSpeed(currentLevel, gameState.score);
    
    // ... 나머지 단어 생성 로직
}

// 4. 레벨 업 알림
function showLevelUpNotification(level) {
    // 화면 중앙에 레벨 업 메시지 표시
    // "Level 2! 두글자 단어가 나타납니다"
}
```

---

## 📁 파일 구조

```
senioraiclass/products/typing-practice/
│
├── 📄 venezia.html          ⭐ 메인 게임 파일 (레벨 시스템 구현 중)
├── 📄 index.html            ⭐ 메인 페이지 (문장 연습)
│
└── 📁 docs/
    ├── 📄 prd_2026-02-02_시니어타자연습.md
    ├── 📄 prd_2026-02-02_베네치아게임.md      ✅ 업데이트됨
    ├── 📄 베네치아게임_TECH_DESIGN.md         ✅ 업데이트됨
    ├── 📄 베네치아게임_CHECKLIST.md
    ├── 📄 베네치아게임_구현_로드맵.md
    ├── 📄 베네치아게임_조사_및_구현가능성분석.md
    └── 📄 한글입력_오류분석_및_해결가이드.md
```

---

## 🎯 다음 세션에서 할 작업

### 우선순위 1: 레벨 시스템 완성
1. `calculateLevel` 함수 구현 (점수 기반 레벨 계산)
2. `calculateSpeed` 함수 구현 (레벨+점수 기반 속도 계산)
3. `spawnWord` 함수 수정 (레벨 기반 단어 선택 및 속도 적용)
4. 레벨 업 알림 UI 구현
5. 게임 시작 시 레벨 초기화

### 우선순위 2: 테스트
1. 레벨 1 → 레벨 2 → 레벨 3 자동 전환 테스트
2. 각 레벨별 단어 출현 비율 확인 (1글자:2글자:3글자 비율)
3. 속도 점진적 가속 확인
4. 한글 입력 정상 작동 확인

### 우선순위 3: 디버깅
1. 레벨 변경 시 생명/점수 유지 확인
2. 속도 슬라이더와 레벨 기반 속도의 상호작용 확인
3. 단어 파괴 시 정확한 점수 계산 확인

---

## 🎮 게임 규칙 요약

| 레벨 | 점수 범위 | 1글자 | 2글자 | 3글자 | 속도 특징 |
|------|----------|-------|-------|-------|----------|
| **Level 1** | 0~499점 | 100% | - | - | 기본 속도 (느림) |
| **Level 2** | 500~1499점 | 50% | 50% | - | 500점마다 +10% |
| **Level 3+** | 1500점+ | 33% | 33% | 33% | 1000점마다 +20% |

**사용자 설정:**
- 속도: 0.5~8 px/frame (슬라이더로 조절, 기본 2.5)
- 생명: 1~10개 (버튼으로 조절, 기본 3)

---

## ⚠️ 주의사항

1. **게임 상태 초기화:** `resetGame()`에서 `gameState.level`, `baseSpeed`, `currentSpeedMultiplier`도 초기화해야 함
2. **속도 계산:** 사용자 설정 속도(슬라이더) × 레벨 기반 배율 = 최종 속도
3. **단어 선택:** `getWordForLevel()` 함수는 이미 구현됨 (line ~945)

---

*새 세션에서 시작 시 참고 문서*
*시니어 AI 클래스 | 범식님 & 골디 🥂*
