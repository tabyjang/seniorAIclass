# Supabase 연동 체크리스트

**작성일:** 2026-02-03
**프로젝트:** 온라인 포토앨범

---

## Phase 1: Supabase 설정

### 1.1 프로젝트 설정
- [ ] Supabase 대시보드 접속
- [ ] 프로젝트 URL 확인
- [ ] anon key 확인
- [ ] config.js에 키 설정

### 1.2 데이터베이스 테이블 생성
- [ ] albums 테이블 생성
- [ ] photos 테이블 생성
- [ ] 인덱스 생성
- [ ] RLS 정책 설정

### 1.3 Storage 설정
- [ ] `photos` 버킷 생성
- [ ] 버킷 공개/비공개 설정
- [ ] Storage 정책 설정
- [ ] CORS 설정 (필요시)

---

## Phase 2: 코드 통합

### 2.1 파일 구조 변경
- [ ] js/config.js 생성 (Supabase 설정)
- [ ] js/auth.js 생성 (인증)
- [ ] js/albumService.js 생성 (앨범 CRUD)
- [ ] js/photoService.js 생성 (사진 CRUD)
- [ ] storage.js 수정 (Supabase 호출로 변경)

### 2.2 HTML 수정
- [ ] Supabase CDN 스크립트 추가
- [ ] config.js 로드
- [ ] 새 서비스 파일들 로드

### 2.3 인증 UI
- [ ] login.html 생성
- [ ] 회원가입 폼
- [ ] 로그인 폼
- [ ] 비밀번호 찾기
- [ ] 로그아웃 버튼

---

## Phase 3: 기능 구현

### 3.1 인증 기능
- [ ] 회원가입 (signUp)
- [ ] 로그인 (signIn)
- [ ] 로그아웃 (signOut)
- [ ] 세션 유지 확인
- [ ] 인증 상태 변경 감지

### 3.2 앨범 기능
- [ ] 앨범 생성
- [ ] 앨범 목록 조회
- [ ] 앨범 상세 조회
- [ ] 앨범 수정
- [ ] 앨범 삭제 (사진 포함)

### 3.3 사진 기능
- [ ] 사진 업로드 (Storage)
- [ ] 메타데이터 저장 (Database)
- [ ] 앨범별 사진 조회
- [ ] 사진 삭제
- [ ] 다중 업로드

---

## Phase 4: 마이그레이션

### 4.1 기존 데이터 이전
- [ ] 마이그레이션 함수 구현
- [ ] localStorage → Supabase (앨범)
- [ ] IndexedDB → Storage (사진)
- [ ] 테스트 데이터로 검증
- [ ] 실제 데이터 마이그레이션

### 4.2 정리
- [ ] 로컬 데이터 백업
- [ ] 마이그레이션 완료 확인
- [ ] 로컬 데이터 삭제 (선택)

---

## Phase 5: 최적화

### 5.1 성능
- [ ] 업로드 전 이미지 리사이즈
- [ ] 페이지네이션 구현
- [ ] Lazy loading 적용
- [ ] 캐싱 전략

### 5.2 UX
- [ ] 업로드 진행률 표시
- [ ] 에러 메시지 한글화
- [ ] 오프라인 대응
- [ ] 로딩 인디케이터

---

## Phase 6: 테스트

### 6.1 기능 테스트
- [ ] 회원가입 → 로그인 플로우
- [ ] 앨범 CRUD 전체
- [ ] 사진 업로드/삭제
- [ ] 다중 사진 업로드
- [ ] 앨범 삭제 시 사진도 삭제

### 6.2 보안 테스트
- [ ] 다른 사용자 데이터 접근 불가
- [ ] 로그아웃 후 접근 불가
- [ ] API 키 노출 확인

### 6.3 성능 테스트
- [ ] 50장 업로드 테스트
- [ ] 100장 갤러리 로딩
- [ ] 모바일 성능

---

## Phase 7: 배포

### 7.1 환경 설정
- [ ] 프로덕션 Supabase 설정
- [ ] 환경변수 분리
- [ ] HTTPS 확인

### 7.2 모니터링
- [ ] Supabase 대시보드 모니터링
- [ ] 에러 로깅 설정
- [ ] 사용량 알림 설정

---

## 진행 상황

| Phase | 상태 | 완료일 |
|-------|------|--------|
| Phase 1 | ⬜ 대기 | - |
| Phase 2 | ⬜ 대기 | - |
| Phase 3 | ⬜ 대기 | - |
| Phase 4 | ⬜ 대기 | - |
| Phase 5 | ⬜ 대기 | - |
| Phase 6 | ⬜ 대기 | - |
| Phase 7 | ⬜ 대기 | - |

---

*최종 수정일: 2026-02-03*
